<!-- Main content -->
<div class="main-content" id="panel">
    <!-- Topnav -->
    <nav class="navbar navbar-top navbar-expand navbar-dark bg-primary border-bottom">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <!-- Search form -->
                <form class="navbar-search navbar-search-light form-inline mr-sm-3" id="navbar-search-main">
                    <div class="form-group mb-0">
                        <div class="input-group input-group-alternative input-group-merge">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-search"></i></span>
                            </div>
                            <input class="form-control" placeholder="Buscar" type="text">
                        </div>
                    </div>
                    <button type="button" class="close" data-action="search-close" data-target="#navbar-search-main" aria-label="Close">
                      <span aria-hidden="true">×</span>
                    </button>
                </form>
                <!-- Navbar links -->
                <ul class="navbar-nav align-items-center  ml-md-auto ">
                    <li class="nav-item d-xl-none">
                        <!-- Sidenav toggler -->
                        <div class="pr-3 sidenav-toggler sidenav-toggler-dark" data-action="sidenav-pin" data-target="#sidenav-main">
                            <div class="sidenav-toggler-inner">
                                <i class="sidenav-toggler-line"></i>
                                <i class="sidenav-toggler-line"></i>
                                <i class="sidenav-toggler-line"></i>
                            </div>
                        </div>
                    </li>
                </ul>
                <ul class="navbar-nav align-items-center  ml-auto ml-md-0 ">
                    <li class="nav-item dropdown">
                        <a class="nav-link pr-0" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <div class="media align-items-center">
                                <span class="avatar avatar-sm rounded-circle">
                                  <img alt="Image placeholder" src="/assets/img/user.svg">
                                </span>
                                <div class="media-body  ml-2  d-none d-lg-block">
                                    <span class="mb-0 text-sm  font-weight-bold">{{nombreUsuario}}</span>
                                </div>
                            </div>
                        </a>
                        <div class="dropdown-menu  dropdown-menu-right ">
                            <div class="dropdown-header noti-title">
                                <h6 class="text-overflow m-0">Bienvenido!</h6>
                            </div>
                            <a class="dropdown-item">
                                <i class="fas fa-user"></i>
                                <span>Perfil</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#!" class="dropdown-item">
                                <i class="fas fa-sign-out-alt"></i>
                                <span (click)="logout()">Cerrar sesión</span>
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <div class="header bg-primary pb-6">
        <div class="container-fluid">
            <div class="header-body">
                <div class="row align-items-center py-4">
                    <div class="col-lg-6">
                        <app-breadcrumb></app-breadcrumb>
                    </div>
                </div>
                <!-- Card stats -->
                <div class="row">
                    <div class="col-xl-3 col-md-6">
                        <div class="card card-stats">
                            <!-- Card body -->
                            <div class="card-body">
                                <div class="row">
                                    <div class="col">
                                        <h5 class="card-title text-uppercase text-muted mb-0">Usuarios</h5>
                                        <span class="h2 font-weight-bold mb-0">{{totalUsuarios}}</span>
                                    </div>
                                    <div class="col-auto">
                                        <div class="icon icon-shape bg-gradient-green text-white rounded-circle shadow">
                                            <i class="fa-users fas text-white"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button routerLink="/admin/inicio" fragment="seccion-usuarios" class="btn-info-inicio py-1"> Ver más <i class="fas fa-arrow-circle-right"></i></button>

                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="card card-stats">
                            <!-- Card body -->
                            <div class="card-body">
                                <div class="row">
                                    <div class="col">
                                        <h5 class="card-title text-uppercase text-muted mb-0">Perfiles</h5>
                                        <span class="h2 font-weight-bold mb-0">{{totalPerfiles}}</span>
                                    </div>
                                    <div class="col-auto">
                                        <div class="icon icon-shape bg-gradient-info text-white rounded-circle shadow">
                                            <i class="fa-child fas text-white"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button routerLink="/admin/inicio" fragment="seccion-usuarios" class="btn-info-inicio py-1"> Ver más <i class="fas fa-arrow-circle-right"></i></button>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="card card-stats">
                            <!-- Card body -->
                            <div class="card-body">
                                <div class="row">
                                    <div class="col">
                                        <h5 class="card-title text-uppercase text-muted mb-0">Platos</h5>
                                        <span class="h2 font-weight-bold mb-0">{{totalPlatos}}</span>
                                    </div>
                                    <div class="col-auto">
                                        <div class="icon icon-shape bg-gradient-green text-white rounded-circle shadow">
                                            <i class="fa-apple-alt fas text-white"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button routerLink="/admin/inicio" fragment="seccion-platos" class="btn-info-inicio py-1"> Ver más <i class="fas fa-arrow-circle-right"></i></button>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="card card-stats">
                            <!-- Card body -->
                            <div class="card-body">
                                <div class="row">
                                    <div class="col">
                                        <h5 class="card-title text-uppercase text-muted mb-0">Menús</h5>
                                        <span class="h2 font-weight-bold mb-0">{{totalMenus}}</span>
                                    </div>
                                    <div class="col-auto">
                                        <div class="icon icon-shape bg-gradient-info text-white rounded-circle shadow">
                                            <i class="fa-utensils fas text-white"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button routerLink="/admin/inicio" fragment="seccion-menus" class="btn-info-inicio py-1"> Ver más <i class="fas fa-arrow-circle-right"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Page content -->
    <div class="container-fluid mt--6">
        <div class="row" id="seccion-usuarios">
            <div class="col">
                <!-- Datatable -->
                <div class="card">
                    <!-- Card header -->
                    <div class="card-header">
                        <h3 class="mb-0">Usuarios / Perfiles</h3>
                    </div>
                    <div class="container-fluid mt-4 row">
                        <div class="col-12 col-md-6 px-sm-6 px-xl-8 pb-3">
                            <h3 class="text-center">Tipos de usuarios</h3>
                            <canvas #usuarios_premium=base-chart baseChart [data]="datosTotalUsuarios" [type]="graficaCircular" [plugins]="graficaPlugins" [options]="optGraficaCircular"></canvas>
                        </div>
                        <div class="col-12 col-md-6 px-sm-6 px-xl-8 pb-3">
                            <h3 class="text-center">Objetivos</h3>
                            <canvas #objetivos_perfiles=base-chart baseChart [data]="datosObjetivosPerfiles" [type]="graficaCircular" [plugins]="graficaPlugins" [options]="optGraficaCircular"></canvas>
                        </div>
                        <div class="col-12 col-md-6 px-sm-6 px-xl-8 pb-3">
                            <h3 class="text-center">Edades</h3>
                            <canvas #edades=base-chart baseChart [data]="datosEdades" [type]="graficaCircular" [plugins]="graficaPlugins" [options]="optGraficaCircular"></canvas>
                        </div>
                        <div class="col-12 col-md-6 pb-3">
                            <h3 class="text-center">Peso medio por Edades</h3>
                            <canvas #peso_por_edades=base-chart baseChart [data]="datosPesosPorEdad" [type]="graficaBarras" [options]="optGraficaBarras"></canvas>
                        </div>
                        <div class="col-12 col-md-6 pb-3">
                            <h3 class="text-center">Altura media por Edades</h3>
                            <canvas #altura_por_edades=base-chart baseChart [data]="datosAlturaPorEdad" [type]="graficaBarras" [options]="optGraficaBarras"></canvas>
                        </div>
                        <div class="col-12 col-md-6 px-sm-6 px-xl-8 pb-3">
                            <h3 class="text-center">Perfiles que han completado su objetivo</h3>
                            <canvas #objetivos_completados=base-chart baseChart [data]="datosObjetivosCompletados" [type]="graficaCircular" [plugins]="graficaPlugins" [options]="optGraficaCircular"></canvas>
                        </div>
                        <div class="col-12 col-md-6 px-sm-6 px-xl-8 pb-3">
                            <h3 class="text-center">Perfiles de cada Sexo</h3>
                            <canvas #sexos=base-chart baseChart [data]="datosSexos" [type]="graficaBarras" [options]="optGraficaBarras"></canvas>
                        </div>
                        <div class="col-12 col-md-6 px-sm-6 px-xl-8 pb-3">
                            <h3 class="text-center">Intolerancias</h3>
                            <canvas #intolerancias=base-chart baseChart [data]="datosIntolerancias" [type]="graficaBarras" [options]="optGraficaBarras"></canvas>
                        </div>
                    </div>
                </div>

                <div class="row" id="seccion-platos">
                    <div class="col">
                        <!-- Datatable -->
                        <div class="card">
                            <!-- Card header -->
                            <div class="card-header">
                                <h3 class="mb-0">Platos</h3>
                            </div>
                            <div class="container-fluid mt-4 row">
                                <div class="col-12 col-md-6 px-sm-6 px-xl-8 pb-3">
                                    <h3 class="text-center">Comidas de los platos</h3>
                                    <canvas #platos_comidas=base-chart baseChart [data]="datosPlatosComidas" [type]="graficaCircular" [plugins]="graficaPlugins" [options]="optGraficaCircular"></canvas>
                                </div>
                                <div class="col-12 col-md-6 pb-3">
                                    <h3 class="text-center">Platos más gustados</h3>
                                    <canvas #platos_gustados=base-chart baseChart [data]="datosPlatosMasGustados" [type]="graficaBarras" [options]="optGraficaBarras"></canvas>
                                </div>
                                <div class="col-12 col-md-6 pb-3">
                                    <h3 class="text-center">Platos menos gustados</h3>
                                    <canvas #platos_no_gustados=base-chart baseChart [data]="datosPlatosMenosGustados" [type]="graficaBarras" [options]="optGraficaBarras"></canvas>
                                </div>
                                <div class="col-12 col-md-6 pb-3">
                                    <h3 class="text-center">Platos más fallados</h3>
                                    <canvas #platos_fallados=base-chart baseChart [data]="datosPlatosMasFallados" [type]="graficaBarras" [options]="optGraficaBarras"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row" id="seccion-menus">
                    <div class="col">
                        <!-- Datatable -->
                        <div class="card">
                            <!-- Card header -->
                            <div class="card-header">
                                <h3 class="mb-0">Menús</h3>
                            </div>
                            <div class="container-fluid mt-4 row">
                                <div class="col-12 col-md-6 pb-3">
                                    <h3 class="text-center">Menus más eficaces</h3>
                                    <canvas #menus_eficaces=base-chart baseChart [data]="datosMenusEficaces" [type]="graficaBarras" [options]="optGraficaBarras"></canvas>
                                </div>
                                <div class="col-12 col-md-6 pb-3">
                                    <h3 class="text-center">Menus más fallados</h3>
                                    <canvas #menus_fallados=base-chart baseChart [data]="datosMenusFallados" [type]="graficaBarras" [options]="optGraficaBarras"></canvas>
                                </div>
                                <div class="col-12 col-md-6 px-sm-6 px-xl-8 pb-3">
                                    <h3 class="text-center">Menus por fecha recomendada</h3>
                                    <canvas #menus_fecha=base-chart baseChart [data]="datosMenusFecha" [type]="graficaCircular" [plugins]="graficaPlugins" [options]="optGraficaCircular"></canvas>
                                </div>
                                <div class="col-12 col-md-6 px-sm-6 px-xl-8 pb-3">
                                    <h3 class="text-center">Menus por objetivos</h3>
                                    <canvas #menus_objetivos=base-chart baseChart [data]="datosMenusObjetivos" [type]="graficaCircular" [plugins]="graficaPlugins" [options]="optGraficaCircular"></canvas>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <app-footer></app-footer>
            </div>
        </div>
